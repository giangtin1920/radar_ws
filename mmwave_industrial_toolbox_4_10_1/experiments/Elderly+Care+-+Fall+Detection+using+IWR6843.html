<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Elderly Care - Fall Detection using IWR6843</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="../.metadata/.html/scripts/toolbox.js"></script>
        <script src="../.metadata/.html/scripts/toolbox_fixes.js"></script>
        <link rel="stylesheet" href="../.metadata/.html/styles/link.css">
        <link rel="stylesheet" href="../.metadata/.html/scripts/strapdown/v/0.2/fonts/ubuntu-regular-woff.css">
        <link rel="stylesheet" href="../.metadata/.html/scripts/strapdown/v/0.2/fonts/glyphicons-halflings-regular.css">
        <link rel="stylesheet" href="../.metadata/.html/scripts/strapdown/v/0.2/themes/united2.min.css">
        <link rel="stylesheet" href="../.metadata/.html/scripts/strapdown/v/0.2/themes/bootstrap-responsive.min.css">
        <style>
            .img-responsive {
            max-height: 300px;
            }
            .btn-primary {
            margin: 5px;
            }
        </style>
    </head>
    <body style="">
        <div class="container">
            <nav class="navbar navbar-default navbar-static-top">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <div id="headline" class="navbar-brand">Elderly Care - Fall Detection using IWR6843</div>
                    </div>
                </div>
            </nav>
            <div class="container">
                <div class="row row-offcanvas row-offcanvas-left">
                    <div class="col-xs-12 col-sm-9" id="content">
                        <h1 id="-introduction-"><span>Introduction</span></h1>
                        <p><span>The objective of this experiment is to evaluate the ability of TI mmWave Sensor to detect rapid height changes in tracked people in real environments and raise an alert upon sensing a fall event. </span></p>
                        <p><span>In many circumstances, it can be valuable to detect the stance of a person with mmWave sensors.  For example, in an elderly care scenario, the mmWave sensor can detect the stance, as well as detect dangerous events like falls, without compromising the privacy of the individual. The sensor delivers 3D position, velocity, and acceleration of tracked opbjects/people and while the target data gives information about the location and size of the person, it is not precise enough to be used to determine the identity or take an image of the person.  The goal of this experiment is to demonstrate how this information can be used to detect falls in real household environments where falls are likely to occur like a living room or a bathroom.  We will show how a simple delta position value monitoring for rapid position changes can effectively detect human falls, discuss algorithm changes for different use cases, and discuss the range limits on accurately detecting falls.</span></p>
                        <h1 id="-setup-nbsp--"><span>Setup </span></h1>
                        <p><span>The following software and hardware setup was used to complete the experiment:</span></p>
                        <h2 id="-hardware-setup--"><span>Hardware Setup:</span></h2>
                        <ul>
                            <li><span>This experiment was conducted inside various rooms, ranging from small tiled bathroom to a larger living room.</span></li>
                            <li><span>An IWR6843ISK-ODS was mounted to an Industrial Carrier Board (MMWAVEICBOOST).  This setup will be referred to as ODS.</span></li>
                            <li><span>An IWR6843ISK </span><span>was mounted to an Industrial Carrier Board (MMWAVEICBOOST).  This setup will be referred to as ISK.</span></li>
                            <ul>
                                <li><span>The ODS antenna has better angular accuracy along the Elevation plane than the ISK antenna.  This will allow the ODS to more accurately determine small changes in height in close range applications.</span></li>
                                <li><span>The ISK antenna performs better at longer ranges, and was used to test the maximum range of fall detection for large rooms/outdoor applications.</span></li>
                            </ul>
                            <li><span>The ODS and ISK were mounted on top of a tripod or the back of a door, depending on what the room size allowed, at a height of 2m.</span></li>
                            <li><span>The ODS and ISK were mounted with 15 degree downtilt, so that the antenna could accurately view the entire room.</span></li>
                            <li><span>A camera was placed behind the sensor to capture a base truth.</span></li>
                        </ul>
                        <p><br></p>
                        <h2 id="-software-setup--"><span>Software Setup:</span></h2>
                        <ul>
                            <li><span>The ODS was flashed with the </span><span>3D_people_count_68xx_demo binary</span><span>, which can be found </span><a href="../labs/People_Counting/people_counting_landing.html"><span>here</span></a><span> on TI Resource Explorer.</span></li>
                            <li><span>The mmWave Fall Detection GUI was used to show the tracking and height graph output. The install and source file for this are included in the Industrial Toolbox download, and located in the People Counting Visualizer folder at the below path.<br>"C:\ti\mmwave_industrial_toolbox_[version]\labs\people_counting\visualizer"<br></span></li>
                            <li><span>The GUI was rotated so that the GUI had the same view point as the camera, which was directly behind the EVM.</span></li>
                            <li><span>The attached sensor configuration was used for the ODS board: <a href="./images/Elderly+Care+-+Fall+Detection+using+IWR6843/ODS_6m_smallRoom.cfg" class="btn btn-primary">ODS_6m_smallRoom.cfg</a></span></li>
                            <li><span>The attached sensor configuration was used for the ISK board: <a href="./images/Elderly+Care+-+Fall+Detection+using+IWR6843/ISK_6m_default.cfg" class="btn btn-primary">ISK_6m_default.cfg</a></span></li>
                            <li><span>These configurations are the same configurations optimized for 3D people counting, but the boundary boxes were modified to reflect the size of the room being measured. This is a very important step to minimize reflections and ghost tracks.</span></li>
                            <li><span>Note: This experiment was tested with the 3D People Counting demo, as detailed above. While the results below are mostly using the ODS antenna, this experiment is compatible with all the boards supported in the 3D people counting lab, linked above. If using a different board, the corresponding configuration file should also be used.
                        </ul>
                        <p><br></p>
                        <h1 id="-procedure-"><span>Procedure</span></h1>
                        <p><span>For each mounting height, the following steps were followed:</span></p>
                        <p><span>Fall detection demo is configured and begins running</span></p>
                        <p><span>One person enters the scene and moves in front of the sensor</span></p>
                        <p><span>The person walks around the scene to verify accurate tracking.</span></p>
                        <p><span>The person simulates fall events in various methods.</span></p>
                        <p><span>The fall events were repeated in various rooms and with typical objects like shower curtains obstructing camera view.</span></p>
                        <p><span>During the course of the experiment in each scene, the fall detection software was left running.</span></p>
                        <h1 id="-observations--"><span>Observations:</span></h1>
                        <p><span>GUI output will look like the following:</span></p>
                        <p><span><img style="height:400;" src="./images/Elderly+Care+-+Fall+Detection+using+IWR6843/Living_Room_Fall_Detection_GUI_overview.png" class="img-responsive"></span></p>
                        <p><span>Included in the video clips are camera footage to show the correlation between the sensor output and human movement. The GUI shows the movement of the tracked person through the cube drawn inside the boundary box in the plotted area. The right hand side of the GUI shows the measured height of the tracked person, along with an average and short term delta height. Average height is a rolling average over the past 10 frames. The height delta compares the average height of the current frame to the average height of 10 frames prior (0.5 seconds). Controlled movements like sitting or kneeling down do not show a fast enough change in height to trigger a fall event.</span></p>
                        <p><br></p>
                        <h2 id="-scene-1-living-room-">Scene 1: Living Room</h2>
                        <p>A typical living room environment was tested with sitting and falling around a couch. The room is about 5m long, with the boundary box being set at the perimeter of the room.</p>
                        <p><video height="400" autoplay muted loop>
                            <source src="images/Elderly+Care+-+Fall+Detection+using+IWR6843/Living_Room_Fall_Detection_Sit_Stand.mp4" type="video/mp4">
                        </video></p>
                        <p><span>When transitioning from standing to sitting, a change in height is recognized, but is not fast enough to trigger a fall event.</span></p>
                        <p><video height="400" autoplay muted loop>
                            <source src="images/Elderly+Care+-+Fall+Detection+using+IWR6843/Living_Room_Fall_Detection_Walk_Fall.mp4" type="video/mp4">
                        </video></p>
                        <p><span>When a person falls from standing, the change in height is rapid enough to be seen as different than sitting and triggers a fall event.</span></p>
                        <p><video height="400" autoplay muted loop>
                            <source src="images/Elderly+Care+-+Fall+Detection+using+IWR6843/Living_Room_Fall_Detection_Sit_Stand_Fall.mp4" type="video/mp4">
                        </video></p>
                        <p><span>Multiple height adjustments can still be detected and trigger fall events. Transitioning from sitting to standing shows an increase in height, but a following fall event is still detected.</span></p>
                        <h2 id="-scene-2-bathroom--"><span>Scene 2: Bathroom </span></h2>
                        <p><span>Fall detection with mmWave radar in a bathroom environment is very helpful, as the mmWave sensor can be monitoring a bathroom without the same privacy concerns as a camera system. Fall events are also likely to occur in bathrooms due to slick floors or wet surfaces. Because of the relatively small size of many bathrooms, and reflective tile or vinyl flooring, mmWave sensors can be prone to picking up reflected signals and ghost images, which could lead to false tracking and fall events. But by matching the boundary box settings to the size of the bathroom, the tracking algorithm operating on the mmWave sensor can intelligently ignore these false signals and maintain accurate fall detection of people while in the small room.</span></p>
                        <p><br></p>
                        <p><video height="400" autoplay muted loop>
                            <source src="images/Elderly+Care+-+Fall+Detection+using+IWR6843/Bathroom_Fall_Detection_smaller.mp4" type="video/mp4">
                        </video></p>
                        <p>In the video clip above, the tracking works very well in the small bathroom with tile floors.  The tracker can distinguish between a sitting motion and a fall event on the floor.</p>
                        <p><video height="400" autoplay muted loop>
                            <source src="images/Elderly+Care+-+Fall+Detection+using+IWR6843/Shower_Fall_Detection_smaller.mp4" type="video/mp4">
                        </video></p>
                        <p><span>As long as the person remains inside the boundary box, the tracker maintains location and height estimation even when the person is behind a thin barrier, such as a shower curtain. The above clip shows the tracker can still detect a fall event even when a traditional camera would not be able to see through the opaque barrier.</span></p>
                        <h2 id="-scene-3-outdoors-">Scene 3: Outdoors</h2>
                        <p>The outdoor environment was only used to demonstrate the range capabilities of the fall detection. The ISK module was used for this test, as it has better range capabilities. But the limited vertical resolution of the antenna pattern begins to become problematic at longer ranges, as the minimum change in estimated height comes close to the total height of the person.</p>
                        <p><video height="400" autoplay muted loop>
                            <source src="images/Elderly+Care+-+Fall+Detection+using+IWR6843/Long_Distance_Fall_Detection_smaller.mp4" type="video/mp4">
                        </video></p>
                        <p>Fall events can accurately be captured at distances as far 6.5 meters away from the sensor. </p>
                        <h1 id="-fall-detection-algorithm-">Fall Detection Algorithm</h1>
                        <p>The fall detection algorithm for this experiment was run in the python GUI, not on the sensor itself. It only requires the positional data of the tracked person and performs simple calculations to determine falls. If the average height falls by more than a threshold amount within 10 frames (0.5 seconds) a fall event is detected.  The algorithm was left intentionally simple to be applicable to all environments and applications.</p>
                        <h1 id="-conclusion-">Conclusion</h1>
                        <p>The IWR6843 3D tracking can be used to reliably track changes in absolute and relative height of a human. These height changes can be used to very quickly detect fall events, less than half a second. This can be used in hospital, patient care, household, or any other facility where fall events need to be monitored.</p>
                        <p><br></p>
                        <p><br></p>
                    </div>
                    <div class="col-xs-4 col-sm-2 sidebar-offcanvas bs-docs-sidebar hidden-print" id="sidebar-overview">
                        <ul class="nav nav-stacked fixed" id="sidebar">
                            <li><a href="#-introduction-">Introduction</a></li>
                            <li><a href="#-setup-nbsp--">Setup </a></li>
                            <li>
                                <ul class="nav nav-stack">
                                    <li><a href="#-hardware-setup--">Hardware Setup:</a></li>
                                    <li><a href="#-software-setup--">Software Setup:</a></li>
                                </ul>
                            </li>
                            <li><a href="#-procedure-">Procedure</a></li>
                            <li><a href="#-observations--">Observations:</a></li>
                            <li>
                                <ul class="nav nav-stack">
                                    <li><a href="#-scene-1-living-room-">Scene 1: Living Room</a></li>
                                    <li><a href="#-scene-2-bathroom--">Scene 2: Bathroom </a></li>
                                    <li><a href="#-scene-3-outdoors-">Scene 3: Outdoors</a></li>
                                </ul>
                            </li>
                            <li><a href="#-fall-detection-algorithm-">Fall Detection Algorithm</a></li>
                            <li><a href="#-conclusion-">Conclusion</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <script src="../.metadata/.html/scripts/strapdown/vendor/bootstrap.min.js"></script>
        <div class="modal" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="vertical-alignment-helper">
                <div class="modal-dialog vertical-align-center">
                    <div class="modal-dialog">
                        <div class="modal-content" style="margin-left: auto;margin-right: auto;">
                            <div class="modal-body">
                                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button> <img src="" class="imagepreview"> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>